<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Pac-Man Maze Game</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: #000;
      font-family: 'Courier New', monospace;
      overflow: hidden;
    }
    
    .game-container {
      position: relative;
      width: 1000px;
      height: 700px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .header {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      background: #000;
      color: #ff0;
      border-bottom: 2px solid #ff0;
      margin-bottom: 10px;
    }
    
    .score-container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .score-label {
      font-size: 18px;
      margin-bottom: 5px;
    }
    
    .score-value {
      font-size: 24px;
      font-weight: bold;
    }
    
    .title {
      font-size: 42px;
      font-weight: bold;
      color: #ff0;
      text-shadow: 0 0 10px #ff0, 0 0 20px #ff0;
      letter-spacing: 2px;
    }
    
    .lives-container {
      display: flex;
      align-items: center;
    }
    
    .lives-label {
      font-size: 18px;
      margin-right: 10px;
    }
    
    .lives {
      display: flex;
    }
    
    .life {
      width: 25px;
      height: 25px;
      background: #ff0;
      border-radius: 50%;
      margin-right: 5px;
      position: relative;
    }
    
    .life::after {
      content: '';
      position: absolute;
      top: 5px;
      left: 12px;
      width: 8px;
      height: 8px;
      background: #000;
      border-radius: 50%;
    }
    
    .game-area {
      position: relative;
      width: 1000px;
      height: 500px;
      background: #000;
      border: 4px solid #0000ff;
      box-shadow: 0 0 20px rgba(0, 0, 255, 0.5);
      overflow: hidden;
    }
    
    canvas {
      background: #000;
      width: 100%;
      height: 100%;
      image-rendering: crisp-edges;
    }
    
    .controls {
      width: 100%;
      display: flex;
      justify-content: space-between;
      padding: 15px 20px;
      background: #000;
      color: #fff;
      border-top: 2px solid #ff0;
      margin-top: 10px;
    }
    
    .dots-info {
      display: flex;
      align-items: center;
      font-size: 18px;
    }
    
    .dots-label {
      margin-right: 10px;
    }
    
    .dots-value {
      font-weight: bold;
      color: #ff0;
    }
    
    .menu-buttons {
      display: flex;
      gap: 10px;
    }
    
    button {
      background: #ff0;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      color: #000;
      font-weight: bold;
      font-family: 'Courier New', monospace;
      transition: all 0.3s;
      box-shadow: 0 0 10px rgba(255, 255, 0, 0.5);
    }
    
    button:hover {
      background: #ffcc00;
      transform: scale(1.05);
    }
    
    /* Power mode indicator */
    #powerMode {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 255, 0.8);
      color: #fff;
      padding: 10px 20px;
      border-radius: 10px;
      font-size: 24px;
      font-weight: bold;
      text-align: center;
      display: none;
      z-index: 50;
      box-shadow: 0 0 20px rgba(0, 0, 255, 0.7);
      animation: pulse 1s infinite;
    }
    
    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.7; }
      100% { opacity: 1; }
    }
    
    /* Win message styles */
    #winMessage {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.95);
      color: #ff0;
      padding: 40px 60px;
      border-radius: 20px;
      text-align: center;
      font-family: 'Courier New', monospace;
      font-size: 36px;
      font-weight: bold;
      border: 4px solid #ff0;
      box-shadow: 0 0 40px rgba(255, 255, 0, 0.7);
      display: none;
      z-index: 100;
    }
    
    #winMessage div:first-child {
      margin-bottom: 20px;
      font-size: 42px;
    }
    
    #winMessage button {
      margin-top: 25px;
      padding: 12px 25px;
      font-size: 20px;
      background: #ff0;
      color: #000;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    
    #winMessage button:hover {
      background: #ffcc00;
    }
    
    /* Game over message */
    #gameOver {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.95);
      color: #f00;
      padding: 40px 60px;
      border-radius: 20px;
      text-align: center;
      font-family: 'Courier New', monospace;
      font-size: 36px;
      font-weight: bold;
      border: 4px solid #f00;
      box-shadow: 0 0 40px rgba(255, 0, 0, 0.7);
      display: none;
      z-index: 100;
    }
    
    #gameOver div:first-child {
      margin-bottom: 20px;
      font-size: 42px;
    }
    
    #gameOver button {
      margin-top: 25px;
      padding: 12px 25px;
      font-size: 20px;
      background: #f00;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    
    #gameOver button:hover {
      background: #ff4444;
    }
    
    
    /* Instructions */
    .instructions {
      position: absolute;
      bottom: 10px;
      left: 10px;
      background: rgba(0, 0, 0, 0.7);
      color: #fff;
      padding: 10px;
      border-radius: 8px;
      font-size: 14px;
      z-index: 10;
    }

    .timer-container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .timer-label {
      font-size: 18px;
      margin-bottom: 5px;
    }

    .timer-value {
      font-size: 24px;
      font-weight: bold;
      color: #ff0;
    }

  .difficulty-selector {
    position: absolute;
    top: 10px;
    right: 10px;
    background: linear-gradient(135deg, #2c3e50, #34495e);
    padding: 8px 15px;
    border-radius: 10px;
    font-family: 'Courier New', monospace;
    border: 2px solid #ff0;
    box-shadow: 0 0 15px rgba(255, 255, 0, 0.3);
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
  }

  .difficulty-selector:hover {
    box-shadow: 0 0 20px rgba(255, 255, 0, 0.5);
    transform: translateY(-2px);
  }

  .difficulty-selector label {
    margin-right: 8px;
    font-weight: bold;
    color: #ff0;
    text-shadow: 0 0 5px rgba(255, 255, 0, 0.5);
    font-size: 14px;
    letter-spacing: 1px;
  }

  .difficulty-selector select {
    padding: 6px 12px;
    border: 1px solid #ff0;
    border-radius: 6px;
    background: #1a1a1a;
    color: #ff0;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 0 10px rgba(255, 255, 0, 0.2);
  }

  .difficulty-selector select:hover {
    background: #2a2a2a;
    box-shadow: 0 0 15px rgba(255, 255, 0, 0.4);
  }

  .difficulty-selector select:focus {
    outline: none;
    border-color: #ffcc00;
    box-shadow: 0 0 20px rgba(255, 204, 0, 0.6);
  }

  /* Optional: Add different colors for each difficulty option */
  .difficulty-selector option[value="easy"] {
    background: #27ae60;
    color: white;
  }

  .difficulty-selector option[value="medium"] {
    background: #f39c12;
    color: white;
  }

  .difficulty-selector option[value="hard"] {
    background: #e74c3c;
    color: white;
  }

  </style>
</head>
<body>
  <div class="game-container">
    <div class="header">
      <div class="score-container">
        <div class="score-label">SCORE</div>
        <div class="score-value" id="score">0</div>
      </div>

      
      <div class="title">PAC-MAN</div>
      
      <div class="timer-container">
        <div class="timer-label">TIME</div>
        <div class="timer-value" id="timer">60</div>
      </div>


      <div class="lives-container">
        <div class="lives-label">LIVES</div>
        <div class="lives" id="lives">
          <!-- Lives will be added by JavaScript -->
        </div>
      </div>
    </div>
    
    <div class="game-area">
      <canvas id="game-canvas" width="1000" height="500"></canvas>
      
      <!-- Power Mode Indicator -->
      <div id="powerMode">POWER MODE ACTIVE!</div>
      
      <!-- Win Message Popup -->
      <div id="winMessage">
        <div>ðŸŽ‰ YOU WIN! ðŸŽ‰</div>
        <div style="font-size: 24px; margin-top: 10px;">All dots collected!</div>
        <div style="font-size: 20px; margin-top: 15px;">Final Score: <span id="finalScore">0</span></div>
        <button id="playAgain">Play Again</button>
      </div>
      
      <!-- Game Over Message -->
      <div id="gameOver">
        <div>GAME OVER</div>
        <div style="font-size: 24px; margin-top: 10px;">Better luck next time!</div>
        <div style="font-size: 20px; margin-top: 15px;">Final Score: <span id="finalScoreGameOver">0</span></div>
        <button id="restartGame">Play Again</button>
      </div>
    </div>
    
    <div class="controls">
      <div class="dots-info">
        <div class="dots-label">DOTS LEFT:</div>
        <div class="dots-value" id="dotsLeft">0</div>
      </div>
      
      <div class="menu-buttons">
        <button id="backToDesign">Back to Designer</button>
        <button id="pauseGame">Pause Game</button>
      </div>
    </div>
  </div>

  <!-- Bottom info panels -->

    <div class="difficulty-selector">
      <label for="difficulty">Difficulty:</label>
      <select id="difficulty">
        <option value="easy">Easy</option>
        <option value="medium" selected>Medium</option>
        <option value="hard">Hard</option>
      </select>
    </div>

  <div style="width:100vw; display:flex; justify-content:center; align-items:flex-end; position:fixed; left:0; bottom:0; z-index:100; pointer-events:none;">
    <div class="instructions" style="position:static; margin:20px; pointer-events:auto;">
      <div style="margin-bottom: 5px; font-weight: bold;">CONTROLS</div>
      <div>Arrow Keys - Move Pac-Man</div>
      <div>Collect all pellets before time runs out!</div>
    </div>
  </div>

  <!-- Add shaders directly in HTML to avoid 404 errors -->
  <script id="vertex-shader" type="x-shader/x-vertex">
    attribute vec2 aPosition;
    void main() {
      gl_Position = vec4(aPosition, 0.0, 1.0);
    }
  </script>

  <script id="fragment-shader" type="x-shader/x-fragment">
    precision mediump float;
    uniform vec4 uColor;
    void main() {
      gl_FragColor = uColor;
    }
  </script>

  <script src="main.js"></script>
  <script src="movement.js"></script>
  <script src="maze.js"></script>
  
  <script>
    // Initialize lives display
    document.addEventListener('DOMContentLoaded', function() {
      const livesContainer = document.getElementById('lives');
      for (let i = 0; i < 3; i++) {
        const life = document.createElement('div');
        life.className = 'life';
        livesContainer.appendChild(life);
      }
      
      // Add pause functionality
      document.getElementById('pauseGame').addEventListener('click', function() {
        alert('game paused');
      });
    });
  </script>
</body>
</html>